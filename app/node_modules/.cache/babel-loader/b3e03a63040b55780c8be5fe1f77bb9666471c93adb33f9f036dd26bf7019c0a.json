{"ast":null,"code":"import _toConsumableArray from\"/Users/zoe/Desktop/Independent/currency/app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/zoe/Desktop/Independent/currency/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{Link}from\"react-router-dom\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faRotate,faCoins}from\"@fortawesome/free-solid-svg-icons\";import\"./average.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Average=function Average(){// put them in a same useState for better control\nvar _useState=useState([{rate:\"\",amount:\"\"}]),_useState2=_slicedToArray(_useState,2),inputList=_useState2[0],setInputList=_useState2[1];var handleInputChange=function handleInputChange(e,index){var _e$target=e.target,name=_e$target.name,value=_e$target.value;var list=_toConsumableArray(inputList);list[index][name]=value;setInputList(list);};var handleAddClick=function handleAddClick(){setInputList([].concat(_toConsumableArray(inputList),[{rate:\"\",amount:\"\"}]));};var handleRemoveClick=function handleRemoveClick(index){var list=_toConsumableArray(inputList);// Only one element is removed (i.e. the group of input boxes associated with the clicked \"Remove\" button).\nlist.splice(index,1);setInputList(list);};var calculateAverageRate=function calculateAverageRate(){var totalRate=0;var totalAmount=0;inputList.forEach(function(input){if(input.rate&&input.amount){totalRate+=parseFloat(input.rate)*parseFloat(input.amount);totalAmount+=parseFloat(input.amount);}});return totalAmount===0?0:totalRate/totalAmount;};return/*#__PURE__*/_jsxs(\"div\",{className:\"AverageBox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"titleBox\",children:[/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faRotate}),\" Converter\"]})}),/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCoins}),\" Average\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"changeBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"costBox\",children:inputList.map(function(x,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"costInputBox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"costLeft\",children:[i===0&&/*#__PURE__*/_jsx(\"h3\",{children:\"Rate\"}),/*#__PURE__*/_jsx(\"input\",{name:\"rate\",className:\"costInput\",value:x.rate,onChange:function onChange(e){return handleInputChange(e,i);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"costRight\",children:[i===0&&/*#__PURE__*/_jsx(\"h3\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{name:\"amount\",className:\"costInput\",value:x.amount,onChange:function onChange(e){return handleInputChange(e,i);}}),inputList.length>1&&/*#__PURE__*/_jsx(\"button\",{className:\"costBtn\",onClick:function onClick(){return handleRemoveClick(i);},children:\"X\"})]})]},i);})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"costBtn moreBtn\",onClick:handleAddClick,children:\"+ More\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Average purchase rate\"}),/*#__PURE__*/_jsx(\"div\",{className:\"showRateBox\",children:/*#__PURE__*/_jsx(\"h3\",{children:calculateAverageRate().toFixed(2)})})]})]});};export default Average;","map":{"version":3,"names":["useState","Link","FontAwesomeIcon","faRotate","faCoins","jsx","_jsx","jsxs","_jsxs","Average","_useState","rate","amount","_useState2","_slicedToArray","inputList","setInputList","handleInputChange","e","index","_e$target","target","name","value","list","_toConsumableArray","handleAddClick","concat","handleRemoveClick","splice","calculateAverageRate","totalRate","totalAmount","forEach","input","parseFloat","className","children","to","icon","map","x","i","onChange","length","onClick","toFixed"],"sources":["/Users/zoe/Desktop/Independent/currency/app/src/components/Average.js"],"sourcesContent":["import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n    faRotate,\n    faCoins,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport \"./average.css\";\n\nconst Average = () => {\n    // put them in a same useState for better control\n    const [inputList, setInputList] = useState([{ rate: \"\", amount: \"\" }]);\n\n    const handleInputChange = (e, index) => {\n        const { name, value } = e.target;\n        const list = [...inputList];\n        list[index][name] = value;\n        setInputList(list);\n    };\n\n    const handleAddClick = () => {\n        setInputList([...inputList, { rate: \"\", amount: \"\" }]);\n    };\n\n    const handleRemoveClick = (index) => {\n        const list = [...inputList];\n\n        // Only one element is removed (i.e. the group of input boxes associated with the clicked \"Remove\" button).\n        list.splice(index, 1);\n        setInputList(list);\n    };\n\n    const calculateAverageRate = () => {\n        let totalRate = 0;\n        let totalAmount = 0;\n\n        inputList.forEach((input) => {\n            if (input.rate && input.amount) {\n                totalRate += parseFloat(input.rate) * parseFloat(input.amount);\n                totalAmount += parseFloat(input.amount);\n            }\n        });\n\n        return totalAmount === 0 ? 0 : totalRate / totalAmount;\n    };\n\n    return (\n        <div className=\"AverageBox\">\n            <div className=\"titleBox\">\n                <h2>\n                    <Link to=\"/\">\n                        <FontAwesomeIcon icon={faRotate} /> Converter\n                    </Link>\n                </h2>\n                <h2>\n                    <FontAwesomeIcon icon={faCoins} /> Average\n                </h2>\n            </div>\n            <div className=\"changeBox\">\n                <div className=\"costBox\">\n                    {inputList.map((x, i) => {\n                        return (\n                            <div className=\"costInputBox\" key={i}>\n                                <div className=\"costLeft\">\n                                    {i === 0 && <h3>Rate</h3>}\n                                    <input\n                                        name=\"rate\"\n                                        className=\"costInput\"\n                                        value={x.rate}\n                                        onChange={(e) => handleInputChange(e, i)}\n                                    />\n                                </div>\n\n                                <div className=\"costRight\">\n                                    {i === 0 && <h3>Amount</h3>}\n                                    <input\n                                        name=\"amount\"\n                                        className=\"costInput\"\n                                        value={x.amount}\n                                        onChange={(e) => handleInputChange(e, i)}\n                                    />\n                                    {inputList.length > 1 && (\n                                        <button className=\"costBtn\" onClick={() => handleRemoveClick(i)}>X</button>\n                                    )}\n                                </div>\n                            </div>\n                        );\n                    })}\n                </div>\n                <hr></hr>\n                <button className=\"costBtn moreBtn\" onClick={handleAddClick}>+ More</button>\n\n                <h3>Average purchase rate</h3>\n                <div className=\"showRateBox\">\n                    <h3>{calculateAverageRate().toFixed(2)}</h3>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Average;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}